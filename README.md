# 時間計測ツール - プロトタイプ

時間計測ツールは、社内スタッフとベンダーの業務負荷を可視化するためのWebアプリケーションです。業務ごとの時間を計測し、分析レポートを生成することができます。

## 機能概要

### ユーザー管理
- 社内ユーザー: 個人単位での登録・管理
- ベンダー: ベンダー単位での登録
- ユーザー権限の設定（管理者、一般ユーザー、閲覧のみなど）
- 部署・チーム単位でのグループ化（社内ユーザーのみ）

### 業務管理
- 業務名、業務コード、担当者/担当ベンダーの登録
- 業務の分類（カテゴリ、重要度など）
- 業務の有効/無効の切り替え
- 業務の追加・編集・削除機能

### 時間計測
- 業務開始・終了の記録
- 手動での時間入力
- 中断・再開機能
- 同時に複数業務を計測しないための制御
- ベンダー側の作業時間：ベンダー単位での一括入力機能

### データ分析・可視化
- 社内：個人別の業務時間集計と負荷分析
- ベンダー：ベンダー単位での業務時間集計
- 部署/チーム別の業務時間集計
- 業務種別ごとの集計
- 期間指定での分析（日次、週次、月次など）
- グラフ・チャートによる視覚化

### レポート機能
- 社内向けレポート：個人レベルの詳細データを含む
- ベンダー向けレポート：ベンダー全体としての集計データのみ
- 各種レポートの生成（PDF、Excel形式など）
- 定期レポートの自動生成・配信
- カスタムレポートの作成

### 通知・アラート
- 長時間同一業務継続時のアラート（社内ユーザーのみ）
- 業務未完了の通知
- 定期的な時間入力リマインダー

## 技術スタック

- フロントエンド/バックエンド: C#、Blazor Server
- データベース: SQL Server
- .NET: .NET 6.0以上
- IDE: Visual Studio 2022

## 開発環境構築

### 前提条件
- .NET 6.0 SDK以上
- Visual Studio 2022
- SQL Server（ローカル開発ではSQL Server ExpressでもOK）

### セットアップ手順

1. リポジトリをクローン
```bash
git clone https://github.com/MimeiChan/time-tracking-app.git
```

2. ディレクトリに移動
```bash
cd time-tracking-app
```

3. Visual Studioでソリューションを開く
```bash
start TimeTrackingApp.sln
```

4. 接続文字列の更新（必要に応じて）
`appsettings.json`内の`ConnectionStrings`セクションを確認し、必要に応じてSQL Server接続情報を更新します。

5. データベースマイグレーションの実行
```bash
dotnet ef database update
```

6. アプリケーションの実行
```bash
dotnet run
```

## プロジェクト構造

- **TimeTrackingApp/** - メインプロジェクトディレクトリ
  - **Data/** - モデルとデータベースコンテキスト
  - **Pages/** - Blazorページコンポーネント
  - **Services/** - ビジネスロジック
  - **Shared/** - 共通コンポーネント
  - **wwwroot/** - 静的ファイル

## デプロイ

1. アプリケーションの公開
```bash
dotnet publish -c Release
```

2. IISサーバーへのデプロイ
   - Visual Studioの「発行」機能を使用するか、手動でファイルをコピー
   - IISサイトの構成とアプリケーションプールの設定

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 貢献

バグ報告や機能リクエストは、GitHubのIssueを通じてお知らせください。
